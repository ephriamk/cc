{"ast":null,"code":"import * as THREE from 'three';\nimport { extend } from '@react-three/fiber';\n\n// Paul West @prisoner849 https://discourse.threejs.org/u/prisoner849\n// https://discourse.threejs.org/t/simple-curved-plane/26647/10\nclass BentPlaneGeometry extends THREE.PlaneGeometry {\n  constructor(radius, ...args) {\n    super(...args);\n    let p = this.parameters;\n    let hw = p.width * 0.5;\n    let a = new THREE.Vector2(-hw, 0);\n    let b = new THREE.Vector2(0, radius);\n    // Changn this made the pxiture futher out\n    let c = new THREE.Vector2(hw, 0);\n    let ab = new THREE.Vector2().subVectors(a, b);\n    let bc = new THREE.Vector2().subVectors(b, c);\n    let ac = new THREE.Vector2().subVectors(a, c);\n    let r = ab.length() * bc.length() * ac.length() / (2 * Math.abs(ab.cross(ac)));\n    let center = new THREE.Vector2(0, radius - r);\n    let baseV = new THREE.Vector2().subVectors(a, center);\n    let baseAngle = baseV.angle() - Math.PI * 0.5;\n    let arc = baseAngle * 2;\n    let uv = this.attributes.uv;\n    let pos = this.attributes.position;\n    let mainV = new THREE.Vector2();\n    for (let i = 0; i < uv.count; i++) {\n      let uvRatio = 1 - uv.getX(i);\n      let y = pos.getY(i);\n      mainV.copy(c).rotateAround(center, arc * uvRatio);\n      pos.setXYZ(i, mainV.x, y, -mainV.y);\n    }\n    pos.needsUpdate = true;\n  }\n}\nclass MeshSineMaterial extends THREE.MeshBasicMaterial {\n  constructor(parameters = {}) {\n    super(parameters);\n    this.setValues(parameters);\n    this.time = {\n      value: 0\n    };\n  }\n  onBeforeCompile(shader) {\n    shader.uniforms.time = this.time;\n    shader.vertexShader = `\n      uniform float time;\n      ${shader.vertexShader}\n    `;\n    shader.vertexShader = shader.vertexShader.replace('#include <begin_vertex>', `vec3 transformed = vec3(position.x, position.y + sin(time + uv.x * PI * 4.0) / 4.0, position.z);`);\n  }\n}\nextend({\n  MeshSineMaterial,\n  BentPlaneGeometry\n});","map":{"version":3,"names":["THREE","extend","BentPlaneGeometry","PlaneGeometry","constructor","radius","args","p","parameters","hw","width","a","Vector2","b","c","ab","subVectors","bc","ac","r","length","Math","abs","cross","center","baseV","baseAngle","angle","PI","arc","uv","attributes","pos","position","mainV","i","count","uvRatio","getX","y","getY","copy","rotateAround","setXYZ","x","needsUpdate","MeshSineMaterial","MeshBasicMaterial","setValues","time","value","onBeforeCompile","shader","uniforms","vertexShader","replace"],"sources":["/Users/ephriamkassa/Desktop/End-master/src/util.js"],"sourcesContent":["import * as THREE from 'three'\nimport { extend } from '@react-three/fiber'\n\n// Paul West @prisoner849 https://discourse.threejs.org/u/prisoner849\n// https://discourse.threejs.org/t/simple-curved-plane/26647/10\nclass BentPlaneGeometry extends THREE.PlaneGeometry {\n  constructor(radius, ...args) {\n    super(...args)\n    let p = this.parameters\n    let hw = p.width * 0.5\n    let a = new THREE.Vector2(-hw, 0)\n    let b = new THREE.Vector2(0, radius)\n    // Changn this made the pxiture futher out\n    let c = new THREE.Vector2(hw,0)\n    let ab = new THREE.Vector2().subVectors(a, b)\n    let bc = new THREE.Vector2().subVectors(b, c)\n    let ac = new THREE.Vector2().subVectors(a, c)\n    let r = (ab.length() * bc.length() * ac.length()) / (2 * Math.abs(ab.cross(ac)))\n    let center = new THREE.Vector2(0, radius - r)\n    let baseV = new THREE.Vector2().subVectors(a, center)\n    let baseAngle = baseV.angle() - Math.PI * 0.5\n    let arc = baseAngle * 2\n    let uv = this.attributes.uv\n    let pos = this.attributes.position\n    let mainV = new THREE.Vector2()\n    for (let i = 0; i < uv.count; i++) {\n      let uvRatio = 1 - uv.getX(i)\n      let y = pos.getY(i)\n      mainV.copy(c).rotateAround(center, arc * uvRatio)\n      pos.setXYZ(i, mainV.x, y, -mainV.y)\n    }\n    pos.needsUpdate = true\n  }\n}\n\nclass MeshSineMaterial extends THREE.MeshBasicMaterial {\n  constructor(parameters = {}) {\n    super(parameters)\n    this.setValues(parameters)\n    this.time = { value: 0 }\n  }\n  onBeforeCompile(shader) {\n    shader.uniforms.time = this.time\n    shader.vertexShader = `\n      uniform float time;\n      ${shader.vertexShader}\n    `\n    shader.vertexShader = shader.vertexShader.replace(\n      '#include <begin_vertex>',\n      `vec3 transformed = vec3(position.x, position.y + sin(time + uv.x * PI * 4.0) / 4.0, position.z);`\n    )\n  }\n}\n\nextend({ MeshSineMaterial, BentPlaneGeometry })\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}