{"ast":null,"code":"import*as THREE from'three';import{extend}from'@react-three/fiber';// Paul West @prisoner849 https://discourse.threejs.org/u/prisoner849\n// https://discourse.threejs.org/t/simple-curved-plane/26647/10\nclass BentPlaneGeometry extends THREE.PlaneGeometry{constructor(radius,...args){super(...args);let p=this.parameters;let hw=p.width*0.5;let a=new THREE.Vector2(-hw,0);let b=new THREE.Vector2(0,radius);// Changn this made the pxiture futher out\nlet c=new THREE.Vector2(hw,0);let ab=new THREE.Vector2().subVectors(a,b);let bc=new THREE.Vector2().subVectors(b,c);let ac=new THREE.Vector2().subVectors(a,c);let r=ab.length()*bc.length()*ac.length()/(2*Math.abs(ab.cross(ac)));let center=new THREE.Vector2(0,radius-r);let baseV=new THREE.Vector2().subVectors(a,center);let baseAngle=baseV.angle()-Math.PI*0.5;let arc=baseAngle*2;let uv=this.attributes.uv;let pos=this.attributes.position;let mainV=new THREE.Vector2();for(let i=0;i<uv.count;i++){let uvRatio=1-uv.getX(i);let y=pos.getY(i);mainV.copy(c).rotateAround(center,arc*uvRatio);pos.setXYZ(i,mainV.x,y,-mainV.y);}pos.needsUpdate=true;}}class MeshSineMaterial extends THREE.MeshBasicMaterial{constructor(parameters={}){super(parameters);this.setValues(parameters);this.time={value:0};}onBeforeCompile(shader){shader.uniforms.time=this.time;shader.vertexShader=`\n      uniform float time;\n      ${shader.vertexShader}\n    `;shader.vertexShader=shader.vertexShader.replace('#include <begin_vertex>',`vec3 transformed = vec3(position.x, position.y + sin(time + uv.x * PI * 4.0) / 4.0, position.z);`);}}extend({MeshSineMaterial,BentPlaneGeometry});","map":{"version":3,"names":["THREE","extend","BentPlaneGeometry","PlaneGeometry","constructor","radius","args","p","parameters","hw","width","a","Vector2","b","c","ab","subVectors","bc","ac","r","length","Math","abs","cross","center","baseV","baseAngle","angle","PI","arc","uv","attributes","pos","position","mainV","i","count","uvRatio","getX","y","getY","copy","rotateAround","setXYZ","x","needsUpdate","MeshSineMaterial","MeshBasicMaterial","setValues","time","value","onBeforeCompile","shader","uniforms","vertexShader","replace"],"sources":["/Users/ephriamkassa/Desktop/End-master/src/util.js"],"sourcesContent":["import * as THREE from 'three'\nimport { extend } from '@react-three/fiber'\n\n// Paul West @prisoner849 https://discourse.threejs.org/u/prisoner849\n// https://discourse.threejs.org/t/simple-curved-plane/26647/10\nclass BentPlaneGeometry extends THREE.PlaneGeometry {\n  constructor(radius, ...args) {\n    super(...args)\n    let p = this.parameters\n    let hw = p.width * 0.5\n    let a = new THREE.Vector2(-hw, 0)\n    let b = new THREE.Vector2(0, radius)\n    // Changn this made the pxiture futher out\n    let c = new THREE.Vector2(hw,0)\n    let ab = new THREE.Vector2().subVectors(a, b)\n    let bc = new THREE.Vector2().subVectors(b, c)\n    let ac = new THREE.Vector2().subVectors(a, c)\n    let r = (ab.length() * bc.length() * ac.length()) / (2 * Math.abs(ab.cross(ac)))\n    let center = new THREE.Vector2(0, radius - r)\n    let baseV = new THREE.Vector2().subVectors(a, center)\n    let baseAngle = baseV.angle() - Math.PI * 0.5\n    let arc = baseAngle * 2\n    let uv = this.attributes.uv\n    let pos = this.attributes.position\n    let mainV = new THREE.Vector2()\n    for (let i = 0; i < uv.count; i++) {\n      let uvRatio = 1 - uv.getX(i)\n      let y = pos.getY(i)\n      mainV.copy(c).rotateAround(center, arc * uvRatio)\n      pos.setXYZ(i, mainV.x, y, -mainV.y)\n    }\n    pos.needsUpdate = true\n  }\n}\n\nclass MeshSineMaterial extends THREE.MeshBasicMaterial {\n  constructor(parameters = {}) {\n    super(parameters)\n    this.setValues(parameters)\n    this.time = { value: 0 }\n  }\n  onBeforeCompile(shader) {\n    shader.uniforms.time = this.time\n    shader.vertexShader = `\n      uniform float time;\n      ${shader.vertexShader}\n    `\n    shader.vertexShader = shader.vertexShader.replace(\n      '#include <begin_vertex>',\n      `vec3 transformed = vec3(position.x, position.y + sin(time + uv.x * PI * 4.0) / 4.0, position.z);`\n    )\n  }\n}\n\nextend({ MeshSineMaterial, BentPlaneGeometry })\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}